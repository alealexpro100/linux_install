#!/usr/bin/perl

=pod

=head1 NAME

arch-bootstrap - bootstrap archlinux from mirror

=head1 SYNOPSIS

arch-bootstrap [arch] [mirror] [dir] [packages]
CUSTOM_ARCH_REPO=1 CORE_NAME=arch_repo arch-bootstrap [arch] [repo] [dir] [packages]

=head1 EXAMPLES

arch-bootstrap x86_64 https://mirrors.evowise.com/archlinux /mnt base-devel mc htop"
CUSTOM_ARCH_REPO=1 CORE_NAME=arch_repo arch-bootstrap x86_64 http://mirror.site/arch_repo /mnt base-devel mc htop"

=cut

use warnings;
use strict;

if (@ARGV < 4) {
    die "Not enough arguments!";
}
my ($arch, $mirror, $dir) = @ARGV;
my @packages;
if (@ARGV > 5) {
    for (4..$#ARGV) {
        push(@packages, $ARGV[$_]);
    }
}
if (defined $ENV{CUSTOM_ARCH_REPO} && $ENV{CUSTOM_ARCH_REPO} == 1) {
    print "h";
    my $CORE_NAME=$ENV{CORE_NAME};
}